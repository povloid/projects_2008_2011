<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="oinfo" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<parameter name="CAPTION_TEXT_REPORT_PARAMS" class="java.lang.String"/>
	<queryString>
		<![CDATA[select  -- Сведения по операции
	o.id as oder_id,
	o.order_date as order_date,
	o.operation_type_code as operation_type_code,
	ot.description as order_operation_name,

	o.description as order_description,
	o.sub_order_id as sub_order_id,

	-- Сведения по пользователю
	o.user_id as user_id,
	u."name" as user_name,
	u.isadmin as isadmin,
	(case when(u.isadmin is true) then 'да' else 'нет' end ) as isadmin_ru,
	u.description as user_description,

	-- Сведения по проведенной операции
	o.credit as credit,
	(case when(o.credit is true) then 'да' else 'нет' end ) as credit_ru,
	(select abs(sum(ii.actual_price * ii.quantity)) 
		from items ii WHERE ii.orders_id = o.id) as to_cass,
	(cb.summ) as to_balance,
	cb.description as to_balance_description,

	-- Сведения по клиенту
	o.customer_id,
	----------
	c.short_name,
	c.doc_type,
	c.doc,
	c.ur,
	(case when(c.ur is true) then 'да' else 'нет' end ) as ur_ru,
	----------
	c.fio,
	c.sex,
	c.address,
	c.phone_number,
	c.phone_number_2,
	c.email,
	c.description as customer_description,

	-- Сведения по составу операции
	-- Группа товаров
	p.products_groups_id,
	(case when (pg."name" is null) then 'сумма' else pg."name" end) as products_groups_name,
	pg.description as products_groups_description,
	-- Товар
	i.products_id,
	(case when (p."name" is null) then 'Касса' else p."name" end) as product_name,
	p.scod,
	p.measures_id,
	ms."name" as measures_name,
	p.description as product_description, 

	-- Оценка
	i.actual_price,
	i.quantity,
	i.actual_price * i.quantity AS summ

	from orders o
		LEFT OUTER JOIN customers c ON (o.customer_id = c.id )
		LEFT OUTER JOIN customers_balances cb ON (o.id = cb.order_id),
		
	     items i 	
		LEFT OUTER JOIN products p ON (i.products_id = p.id )
		LEFT OUTER JOIN products_groups pg ON (p.products_groups_id = pg.id)
		LEFT OUTER JOIN rb_measures ms ON (p.measures_id = ms.id)
		
		,orders_operations_types ot, users u
	where  
		--o.id = 396 -- ppl Приход товара
		--o.id = 527 -- pmn Списание товара
		
		--o.id = 563 --mpl
		--o.id = 546 --mmn
		
		--o.id = 539 -- z
		
		--o.id = 562 --psl Продажа товара с кредитом
		--o.id = 567 --prt Возврат товара без балансных операций
		o.id=522
		--o.id=519
		AND o.id=i.orders_id AND o.operation_type_code = type_code
		AND o.user_id = u.id --AND p.id is not null 
		AND i.actual_price >= 0]]>
	</queryString>
	<field name="oder_id" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="order_date" class="java.sql.Timestamp">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="operation_type_code" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="order_operation_name" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="order_description" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="sub_order_id" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="user_id" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="user_name" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="isadmin" class="java.lang.Boolean">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="isadmin_ru" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="user_description" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="credit" class="java.lang.Boolean">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="credit_ru" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="to_cass" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="to_balance" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="to_balance_description" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="customer_id" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="short_name" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="doc_type" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="doc" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="ur" class="java.lang.Boolean">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="ur_ru" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="fio" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="sex" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="address" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="phone_number" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="phone_number_2" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="email" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="customer_description" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="products_groups_id" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="products_groups_name" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="products_groups_description" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="products_id" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="product_name" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="scod" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="measures_id" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="measures_name" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="product_description" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="actual_price" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="quantity" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="summ" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<group name="oder_id">
		<groupExpression><![CDATA[$F{oder_id}]]></groupExpression>
		<groupHeader>
			<band height="377">
				<staticText>
					<reportElement mode="Opaque" x="0" y="0" width="139" height="13" forecolor="#FFFFFF" backcolor="#000000"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="0.25" lineColor="#000000"/>
						<leftPen lineWidth="0.25" lineColor="#000000"/>
						<bottomPen lineWidth="0.25" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true" isStrikeThrough="false"/>
					</textElement>
					<text><![CDATA[Операция №]]></text>
				</staticText>
				<textField hyperlinkType="None">
					<reportElement mode="Opaque" x="139" y="0" width="416" height="13" forecolor="#FFFFFF" backcolor="#000000"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="0.25" lineColor="#000000"/>
						<bottomPen lineWidth="0.25" lineColor="#000000"/>
						<rightPen lineWidth="0.25" lineColor="#000000"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.Integer"><![CDATA[$F{oder_id}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="13" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8" isBold="false"/>
					</textElement>
					<textFieldExpression class="java.sql.Timestamp"><![CDATA[$F{order_date}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="13" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true" isStrikeThrough="false"/>
					</textElement>
					<text><![CDATA[Дата и время:]]></text>
				</staticText>
				<staticText>
					<reportElement x="0" y="27" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true" isStrikeThrough="false"/>
					</textElement>
					<text><![CDATA[Тип операции:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="27" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8" isBold="false"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{order_operation_name}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="41" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true" isStrikeThrough="false"/>
					</textElement>
					<text><![CDATA[Краткое описание:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="41" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8" isBold="false"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{order_description}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="55" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true" isStrikeThrough="false"/>
					</textElement>
					<text><![CDATA[Базовый ордер:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="55" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8" isBold="false"/>
					</textElement>
					<textFieldExpression class="java.lang.Integer"><![CDATA[$F{sub_order_id}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="83" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Имя пользователя:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="83" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{user_name}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="97" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Является администратором:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="97" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{isadmin_ru}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="111" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Краткое описание:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="111" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{user_description}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="153" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[В кредит:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="153" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{credit_ru}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="167" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Касса:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" pattern="###0.00;-###0.00" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="167" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{to_cass}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="181" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Баланс:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" pattern="###0.00;-###0.00" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="181" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{to_balance}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="195" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Пометки:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="195" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{to_balance_description}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement mode="Opaque" x="0" y="209" width="555" height="14" backcolor="#CCCCFF"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="0.25"/>
						<leftPen lineWidth="0.25"/>
						<bottomPen lineWidth="0.25"/>
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Сведения по клиенту:]]></text>
				</staticText>
				<staticText>
					<reportElement x="0" y="223" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Краткое наименование:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="223" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{short_name}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="237" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Тип документа:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="237" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression class="java.lang.Integer"><![CDATA[$F{doc_type}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="251" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Номер/код документа:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="251" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{doc}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="265" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Юридическое лице:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="265" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{ur_ru}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="279" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Ф.И.О.]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="279" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{fio}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="293" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Пол:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="293" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{sex}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="307" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Адрес:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="307" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{address}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="321" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Телефон 1:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="321" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{phone_number}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="335" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Телефон 2:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="335" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{phone_number_2}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="349" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Почта:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="349" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{email}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="363" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Краткое описание:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="363" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{customer_description}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement mode="Opaque" x="0" y="69" width="555" height="14" backcolor="#CCCCFF"/>
					<box>
						<topPen lineWidth="0.25"/>
						<leftPen lineWidth="0.25"/>
						<bottomPen lineWidth="0.25"/>
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Данные по пользователю:]]></text>
				</staticText>
				<staticText>
					<reportElement mode="Opaque" x="0" y="125" width="555" height="14" backcolor="#CCCCFF"/>
					<box>
						<topPen lineWidth="0.25"/>
						<leftPen lineWidth="0.25"/>
						<bottomPen lineWidth="0.25"/>
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Деньги:]]></text>
				</staticText>
				<staticText>
					<reportElement x="0" y="139" width="139" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[На сумму:]]></text>
				</staticText>
				<textField pattern="###0.00;-###0.00" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement x="139" y="139" width="416" height="14"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[($F{to_cass}.abs()).add($F{to_balance}.abs())]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band/>
		</groupFooter>
	</group>
	<group name="products_groups_id">
		<groupExpression><![CDATA[$F{products_groups_id}]]></groupExpression>
		<groupHeader>
			<band height="42">
				<staticText>
					<reportElement mode="Opaque" x="0" y="0" width="139" height="14" backcolor="#66CCFF"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="0.25"/>
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Группа товаров:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement mode="Opaque" x="139" y="0" width="416" height="14" backcolor="#66CCFF"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="0.25"/>
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{products_groups_name}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement mode="Opaque" x="0" y="14" width="139" height="14" backcolor="#66CCFF"/>
					<box leftPadding="2" rightPadding="2">
						<leftPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Описание группы товаров:]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
					<reportElement stretchType="RelativeToBandHeight" mode="Opaque" x="139" y="14" width="416" height="14" backcolor="#66CCFF"/>
					<box leftPadding="2" rightPadding="2">
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{products_groups_description}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement positionType="FixRelativeToBottom" mode="Opaque" x="344" y="28" width="60" height="14" backcolor="#9999FF"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="0.25"/>
						<bottomPen lineWidth="0.25"/>
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Цена]]></text>
				</staticText>
				<staticText>
					<reportElement positionType="FixRelativeToBottom" mode="Opaque" x="464" y="28" width="31" height="14" backcolor="#9999FF"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="0.25"/>
						<bottomPen lineWidth="0.25"/>
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Мера]]></text>
				</staticText>
				<staticText>
					<reportElement positionType="FixRelativeToBottom" mode="Opaque" x="216" y="28" width="128" height="14" backcolor="#9999FF"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="0.25"/>
						<bottomPen lineWidth="0.25"/>
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Краткое описание]]></text>
				</staticText>
				<staticText>
					<reportElement positionType="FixRelativeToBottom" mode="Opaque" x="404" y="28" width="60" height="14" backcolor="#9999FF"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="0.25"/>
						<bottomPen lineWidth="0.25"/>
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Кол.]]></text>
				</staticText>
				<staticText>
					<reportElement positionType="FixRelativeToBottom" mode="Opaque" x="127" y="28" width="89" height="14" backcolor="#9999FF"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="0.25"/>
						<bottomPen lineWidth="0.25"/>
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Код]]></text>
				</staticText>
				<staticText>
					<reportElement positionType="FixRelativeToBottom" mode="Opaque" x="0" y="28" width="127" height="14" backcolor="#9999FF"/>
					<box>
						<topPen lineWidth="0.25"/>
						<leftPen lineWidth="0.25"/>
						<bottomPen lineWidth="0.25"/>
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Наименование]]></text>
				</staticText>
				<staticText>
					<reportElement positionType="FixRelativeToBottom" mode="Opaque" x="495" y="28" width="60" height="14" backcolor="#9999FF"/>
					<box leftPadding="2" rightPadding="2">
						<topPen lineWidth="0.25"/>
						<bottomPen lineWidth="0.25"/>
						<rightPen lineWidth="0.25"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<text><![CDATA[Сумма]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band/>
		</groupFooter>
	</group>
	<background>
		<band/>
	</background>
	<title>
		<band height="57">
			<line>
				<reportElement x="0" y="8" width="555" height="1"/>
			</line>
			<line>
				<reportElement positionType="FixRelativeToBottom" x="0" y="51" width="555" height="1"/>
			</line>
			<staticText>
				<reportElement x="65" y="13" width="424" height="19"/>
				<textElement textAlignment="Center">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[Информация]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
				<reportElement x="0" y="32" width="555" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{CAPTION_TEXT_REPORT_PARAMS}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band/>
	</pageHeader>
	<columnHeader>
		<band/>
	</columnHeader>
	<detail>
		<band height="14">
			<textField isStretchWithOverflow="true" hyperlinkType="None">
				<reportElement stretchType="RelativeToBandHeight" x="0" y="0" width="127" height="14"/>
				<box leftPadding="2" rightPadding="2">
					<leftPen lineWidth="0.25"/>
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{product_name}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" hyperlinkType="None">
				<reportElement stretchType="RelativeToBandHeight" x="127" y="0" width="89" height="14"/>
				<box leftPadding="2" rightPadding="2">
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{scod}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0.00;-###0.00" isBlankWhenNull="false" hyperlinkType="None">
				<reportElement stretchType="RelativeToBandHeight" x="464" y="0" width="31" height="14"/>
				<box leftPadding="2" rightPadding="2">
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{measures_name}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true" hyperlinkType="None">
				<reportElement stretchType="RelativeToBandHeight" x="216" y="0" width="128" height="14"/>
				<box leftPadding="2" rightPadding="2">
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{product_description}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0.00;-###0.00" isBlankWhenNull="false" hyperlinkType="None">
				<reportElement stretchType="RelativeToBandHeight" x="344" y="0" width="60" height="14"/>
				<box leftPadding="2" rightPadding="2">
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{actual_price}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0.000;-###0.000" isBlankWhenNull="false" hyperlinkType="None">
				<reportElement stretchType="RelativeToBandHeight" x="404" y="0" width="60" height="14"/>
				<box leftPadding="2" rightPadding="2">
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{quantity}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0.00;-###0.00" isBlankWhenNull="false" hyperlinkType="None">
				<reportElement stretchType="RelativeToBandHeight" x="495" y="0" width="60" height="14"/>
				<box leftPadding="2" rightPadding="2">
					<bottomPen lineWidth="0.25"/>
					<rightPen lineWidth="0.25"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{summ}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band/>
	</columnFooter>
	<pageFooter>
		<band height="26">
			<textField evaluationTime="Report" pattern="" isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField" x="515" y="12" width="36" height="14" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["" + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField" x="341" y="12" width="170" height="14" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Страница " + $V{PAGE_NUMBER} + " из "]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="false" hyperlinkType="None">
				<reportElement key="textField" x="0" y="12" width="209" height="14" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[new Date()]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band/>
	</summary>
</jasperReport>
